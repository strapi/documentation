@use '../../scss/mixins' as *;

.enhancedCodeBlock {
  position: relative;
  
  .aiButtonContainer {
    position: absolute;
    top: 12px;
    right: 12px;
    z-index: 10;
    
    // Adjust position when there's a title
    :global(.theme-code-block):has([class*="codeBlockTitle"]) & {
      top: 50px;
    }
    
    // Adjust position for mobile devices
    @include medium-down {
      top: 8px;
      right: 8px;
      
      :global(.theme-code-block):has([class*="codeBlockTitle"]) & {
        top: 44px;
      }
    }
    
    // Ensure button appears above other code block elements
    button {
      position: relative;
      z-index: 11;
    }
  }
  
  // Add some padding to the right side of code blocks to avoid overlap with button
  :global(.theme-code-block) {
    :global([class*="codeBlockContent"]) {
      padding-right: 100px;
      
      @include medium-down {
        padding-right: 80px;
      }
    }
    
    // When there are existing buttons (copy button), adjust spacing
    :global([class*="buttonGroup"]) {
      right: 100px;
      
      @include medium-down {
        right: 80px;
      }
    }
  }
}